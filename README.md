# Микрофронтенды #
Распространение идеи микросервисов на фронтенд-разработку.
перевод [статьи Майкла Гирса](https://micro-frontends.org/)

Техники, стратегии и решения для разработки современных веб-приложений с участием нескольких команд, способных реализовывать фичи независимо друг от друга.

## Что такое микрофронтенды? ##
Термин микрофронтенды (Micro Frontends) впервые появился в конце 2016 года, на [радаре технологий ThoughtWorks](https://www.thoughtworks.com/radar/techniques/micro-frontends). Он расширял концепцию микросервисов на мир фронтенда. Сейчас уже популярен тренд, при котором single-page приложения взаимодействуют с бэком, построенном на принципах микросервисной архитектуры. При этом сам клиентский код, часто разрабатываемый отдельной командой, со временем всё больше разрастается и его становится трудно поддерживать. Именно его мы называем [монолитом фронтенда](https://www.youtube.com/watch?v=pU1gXA0rfwc&ab_channel=microXchg).

Идея микрофронтендов заключается в восприятии сайта или веб-приложения как композиции фичей, которые разрабатывают отдельные команды. Каждая команда имеет четко определенную зону ответственности в функционале приложения и специализируется на ней. При этом сами команды универсальны, работают full-stack и реализуют свои фичи end-to-end, от базы данных до пользовательского интерфейса.

Впрочем, эта идея не нова. Они имеет много общего с концепцией [автономных систем](https://scs-architecture.org/)(Self-contained Systems). Раньше аналогичный подход уже появлялся под названием [“клиентская интеграция для вертикализированных систем”](https://www.otto.de/jobs/technology/techblog/artikel/scaling-with-microservices-and-vertical-decomposition_2014-07-29.php) (Frontend Integration for Verticalised Systems). Однако термин микрофронтенды менее громоздкий и гораздо дружелюбней.

Монолитные фронтенды
![monolith-frontback-microservices](https://github.com/Pashua85/microfrontends/raw/master/images/monolith-frontback-microservices.png)

Организация по вертикали
![verticals-headline](https://github.com/Pashua85/microfrontends/raw/master/images/verticals-headline.png)

## Что такое современное веб-приложение? ##

Во вступлении я использовал фразу “разработка современных веб-приложений”. Давайте определимся, что мы под этим понятием подразумеваем.

[Эрал Бэлкон](https://ar.al/) (Aral Balcan) рассмотрел этот вопрос шире, написал отдельный пост под названием [Document-to-Application Contimuum](https://ar.al/notes/the-documents-to-applications-continuum/). Он выдвинул идею представления всего множества страниц в интернете в качестве нарисованного горизонтально отрезка со шкалой, на левом конце которого будут сайты, представляющие из себя статичные документы, соединенные друг с другом ссылками, а на другом - приложения без собственного контента, чье состояние полностью определяется поведением пользователя, например, онлайн-редактор фотографий.

Если бы вы разместили свой свой проект на левой стороне спектра, то для него хорошо подойдет интеграция  на стороне сервера. При такой модели бэк будет собирать и отправлять пользователю всю html-разметку, необходимую для отрисовки страницы. Обновления будет происходить либо при полной перезагрузке страницы после получения новых данных с сервера, либо она будет обновляться по частям с помощью ajax. [Густав Нильсон Котте](https://twitter.com/gustaf_nk/) (Gustaff Nillson Kotte) написал [подробную статью](https://gustafnk.github.io/microservice-websites/) на эту тему.

Если же Ваш интерфейс должен мгновенно реагировать на действия пользователя, даже при нестабильном интернет-соединении, то сайт с рендерингом со стороны сервера для такой задачи неэффективен.
Для реализации таких штук как [Optimistic UI](https://www.smashingmagazine.com/2016/11/true-lies-of-optimistic-user-interfaces/) и [Skeleton Screens](https://www.lukew.com/ff/entry.asp?1797) Вам также нужна будет возможность обновлять UI на самом клиенте. Гугловское толкование [прогрессивного веб-приложения](https://web.dev/progressive-web-apps/) метко подчеркивает тот факт, что последнее, являясь “добропорядочным гражданином” веба ( благодаря прогрессивному улучшению), одновременно предоставляет пользователю опыт, схожий с тем, который он получает при работе с нативным приложением. PWA находятся примерно где-то посередине site-app-континуума. Здесь реализации, при которых многие задачи решаются исключительно на беке, уже не эффективны, и требуется большая интеграция в браузер. На этом и сфокусирована эта статья.
